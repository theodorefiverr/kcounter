import{a as oi,b as lr,d as ai,r as U,c as ue,o as ur,e as ci,f as H,g as K,h as _,i as mt,w as on,j as dr,F as hr,v as fr,_ as pr,k as gr,l as mr,m as se,n as j,p as we,u as B,q as ae,t as Gt,s as _r,x as Ln,y as Sn}from"./index-ba55319c.js";const Xt="https://ki67.app/",vr=({body:t,url:e})=>oi.post(Xt+e,t,{headers:{Authorization:`Bearer ${lr.get("token")}`}}),br=({body:t,url:e,result:n,error:i,onFinally:r})=>{oi.post(e,t).then(n).catch(i).finally(r)},Ye=ai("counter",()=>{const t=U(),e=U(1),n=U({});return{counterData:t,countCell:(r,s)=>vr({url:"count-cell",body:s}).then(({data:o})=>{o.status&&(t.value=o,console.log("message"),r(o.message,void 0))}).catch(o=>{var a;console.log("e");const c=((a=o.response.data)==null?void 0:a.message)??`${o}`;console.log(c),r(void 0,c??o)}),currentStep:e,formValues:n}});ai("counter",()=>({counterData:U()}));const yr="/assets/Picture56-788f566d.jpg",wr=["onDrop"],Er=ue({__name:"DragDropFile",emits:["upload"],setup(t,{emit:e}){const n=["dragenter","dragleave","dragover","drop"],i=U(!1),r=U();ur(()=>{n.forEach(l=>document.body.addEventListener(l,u=>u.preventDefault()))}),ci(()=>{n.forEach(l=>document.body.removeEventListener(l,u=>u.preventDefault()))});const s=l=>{const u=l.target.files;console.log(u),u[0].name.includes("png")||u[0].name.includes("jpg")||u[0].name.includes("jpeg")?e("upload",[...u]):alert("Unsupported file type")},o=l=>{var d;const u=(d=l.dataTransfer)==null?void 0:d.files;console.log({files:u}),u[0].name.includes("png")||u[0].name.includes("jpg")||u[0].name.includes("jpeg")?e("upload",[...u]):alert("Unsupported file type")},c=l=>{const u=l.target.files;console.log({files:u}),u[0].name.includes("png")||u[0].name.includes("jpg")||u[0].name.includes("jpeg")?e("upload",[...u]):alert("Unsupported file type")},a=()=>{var l;console.log(r.value),(l=r.value)==null||l.click()};return(l,u)=>(H(),K(hr,null,[_("div",{onClick:a,class:"drag-area text-field-3 w-input",onDrop:on(o,["prevent"]),onDragenter:u[0]||(u[0]=d=>i.value=!0),onDragleave:u[1]||(u[1]=d=>i.value=!1)},[mt(l.$slots,"default",{},void 0,!0)],40,wr),dr(_("input",{ref_key:"cvInput",ref:r,onChange:s,onInput:c,type:"file"},null,544),[[fr,!1]])],64))}});const Ar=pr(Er,[["__scopeId","data-v-b2b450d0"]]),{notify:Rn}=gr(),Tr={class:"max-w-4xl"},kr={class:"border border-gray-500 p-12"},xr=["onSubmit"],Or={class:"mt-4 text-center"},Cr=_("span",{class:"font-semibold"},"10X magnification",-1),Ir=_("a",{class:"font-semibold",href:"mailto:aaishah.raquib@gmail.com"},"aaishah.raquib@gmail.com",-1),Dr={class:"w-form"},Lr=_("label",{class:"block label text-sm font-medium mt-5 text-gray-900"},"Threshold*",-1),Sr=_("p",{class:"text-sm mb-2 text-gray-700"}," (The validated threshold is 0.56 - only change this if you know what you're doing.) ",-1),Rr=_("div",null,null,-1),Pr=_("label",{for:"email",class:"block mb-2 label text-sm font-medium mt-5 text-gray-900"},"Upload your Image format*",-1),Br={ref:"imageValidator",style:{display:"none"}},Ur=["src"],Nr={key:1,class:"flex flex-col justify-center items-center"},Mr={id:"upload-icon",class:"icon"},$r={key:0,style:{color:"#6b7380"},id:"fileName",class:"text-xl"},jr={style:{color:"#6b7380"},class:"text-xl"},Hr=_("div",{class:"border border-gray-500 border-dashed p-12 my-2"},[_("p",{class:"body-1 mb-3 text-center"}," Here is a representative example of the type of image that was used to validate the algorithm. If your image has markedly different contrast, resolution, lighting, quality, etc, then the algorithm might give inaccurate results. "),_("div",{class:"flex justify-center items-center"},[_("img",{src:yr,class:"rounded-lg",alt:"sample"})])],-1),Fr=ue({__name:"CounterForm",setup(t){const e=Ye(),n=U("0.56"),i=U(!1),r=mr(()=>{let c=new FormData;return c.append("image_file",e.formValues.image_file),c}),s=c=>{console.log({file:c[0]}),e.formValues.image_file=c[0],e.formValues.image_url=URL.createObjectURL(c[0])},o=()=>{var c;(((c=e.formValues)==null?void 0:c.image_url)??!1)&&(i.value=!0,window.scrollTo(0,0),document.body.scrollTop=0,e.countCell((a,l)=>{console.log(l),l&&Rn({type:"error",title:l})},r.value).then(()=>{var a;console.log((a=e.counterData)==null?void 0:a.data),e.currentStep=2,i.value=!1}).catch(a=>{console.log({err:a}),i.value=!1,Rn({type:"error",title:a})}))};return(c,a)=>{var h;const l=ae("snap"),u=ae("app-input"),d=ae("app-icon"),f=ae("app-button");return H(),K("div",Tr,[_("div",kr,[_("form",{class:"space-y-6",onSubmit:on(o,["prevent"])},[_("div",null,[_("p",Or,[se(" Please note that this app has only been validated/calibrated with "),j(l,{class:"font-semibold"},{default:we(()=>[se("low-grade meningiomas")]),_:1}),se(" at "),Cr,se(". If there is demand, we will expand it in future updates. For questions, you can contact Aaishah Raquib at "),Ir]),_("div",Dr,[Lr,Sr,j(u,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=m=>n.value=m),name:"company",type:"text",class:"text-field-3 w-input focus:outline-0",placeholder:"Input the company name you are applying for",disabled:!0,required:""},null,8,["modelValue"]),Rr,Pr,_("div",Br,null,512),j(Ar,{onUpload:s},{default:we(()=>{var m,v,p,y,A,b;return[(m=B(e).formValues)!=null&&m.image_url?(H(),K("img",{key:0,src:(v=B(e).formValues)==null?void 0:v.image_url,class:"rounded-lg h-full",alt:"sample"},null,8,Ur)):(H(),K("div",Nr,[_("div",Mr,[j(d,{icon:"formkit:uploadcloud",width:"100px"})]),(p=B(e).formValues)!=null&&p.image_file?(H(),K("p",$r,Gt((A=(y=B(e).formValues)==null?void 0:y.image_file)==null?void 0:A.name),1)):_r("",!0),_("header",jr,Gt(((b=B(e).formValues)==null?void 0:b.image_file)==null?"Drag or Upload image here":""),1)]))]}),_:1}),j(f,{disabled:!(((h=B(e).formValues)==null?void 0:h.image_url)??!1),loading:i.value},{default:we(()=>[se(" Calculate ")]),_:1},8,["disabled","loading"])])])],40,xr)]),Hr])}}}),_t=U();var Vr=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),vt=globalThis&&globalThis.__assign||function(){return vt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},vt.apply(this,arguments)},bt={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},li=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=bt),this._items=e,this._options=vt(vt({},bt),n),this._init()}return t.prototype._init=function(){var e=this;this._items.length&&this._items.map(function(n){n.active&&e.open(n.id),n.triggerEl.addEventListener("click",function(){e.toggle(n.id)})})},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,i,r=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var c,a;o!==s&&((c=o.triggerEl.classList).remove.apply(c,r._options.activeClasses.split(" ")),(a=o.triggerEl.classList).add.apply(a,r._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.add("rotate-180"),this._options.onOpen(this,s)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,i,r=this.getItem(e);(n=r.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),r.targetEl.classList.add("hidden"),r.triggerEl.setAttribute("aria-expanded","false"),r.active=!1,r.iconEl&&r.iconEl.classList.remove("rotate-180"),this._options.onClose(this,r)},t}();typeof window<"u"&&(window.Accordion=li);function qr(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),i=t.getAttribute("data-inactive-classes"),r=[];t.querySelectorAll("[data-accordion-target]").forEach(function(s){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:s.getAttribute("aria-expanded")==="true"};r.push(o)}),new li(r,{alwaysOpen:e==="open",activeClasses:n||bt.activeClasses,inactiveClasses:i||bt.inactiveClasses})})}var yt=globalThis&&globalThis.__assign||function(){return yt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},yt.apply(this,arguments)},Pn={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},ui=function(){function t(e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=Pn),this._targetEl=e,this._triggerEl=n,this._options=yt(yt({},Pn),i),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){e.toggle()}))},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t}();typeof window<"u"&&(window.Collapse=ui);function zr(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?new ui(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ve.apply(this,arguments)},pt={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},di=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=pt),this._items=e,this._options=ve(ve(ve({},pt),n),{indicators:ve(ve({},pt.indicators),n.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return t.prototype._init=function(){var e=this;this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,i){n.el.addEventListener("click",function(){e.slideTo(i)})})},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],i={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(i),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this._getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this._getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){this._items.map(function(n){n.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype._getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,i,r=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var c,a;o.el.setAttribute("aria-current","false"),(c=o.el.classList).remove.apply(c,r._options.indicators.activeClasses.split(" ")),(a=o.el.classList).add.apply(a,r._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[s].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},t}();typeof window<"u"&&(window.Carousel=di);function Wr(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",i=[],r=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(l,u){i.push({position:u,el:l}),l.getAttribute("data-carousel-item")==="active"&&(r=u)});var s=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(l){s.push({position:parseInt(l.getAttribute("data-carousel-slide-to")),el:l})});var o=new di(i,{defaultPosition:r,indicators:{items:s},interval:e||pt.interval});n&&o.cycle();var c=t.querySelector("[data-carousel-next]"),a=t.querySelector("[data-carousel-prev]");c&&c.addEventListener("click",function(){o.next()}),a&&a.addEventListener("click",function(){o.prev()})})}var wt=globalThis&&globalThis.__assign||function(){return wt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},wt.apply(this,arguments)},Bn={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},hi=function(){function t(e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=Bn),this._targetEl=e,this._triggerEl=n,this._options=wt(wt({},Bn),i),this._init()}return t.prototype._init=function(){var e=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){e.hide()})},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t}();typeof window<"u"&&(window.Dismiss=hi);function Gr(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new hi(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}var N="top",q="bottom",z="right",M="left",an="auto",Je=[N,q,z,M],Se="start",We="end",Xr="clippingParents",fi="viewport",je="popper",Kr="reference",Un=Je.reduce(function(t,e){return t.concat([e+"-"+Se,e+"-"+We])},[]),pi=[].concat(Je,[an]).reduce(function(t,e){return t.concat([e,e+"-"+Se,e+"-"+We])},[]),Yr="beforeRead",Jr="read",Zr="afterRead",Qr="beforeMain",es="main",ts="afterMain",ns="beforeWrite",is="write",rs="afterWrite",ss=[Yr,Jr,Zr,Qr,es,ts,ns,is,rs];function Z(t){return t?(t.nodeName||"").toLowerCase():null}function W(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Te(t){var e=W(t).Element;return t instanceof e||t instanceof Element}function V(t){var e=W(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function cn(t){if(typeof ShadowRoot>"u")return!1;var e=W(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function os(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!V(s)||!Z(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var c=r[o];c===!1?s.removeAttribute(o):s.setAttribute(o,c===!0?"":c)}))})}function as(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),c=o.reduce(function(a,l){return a[l]="",a},{});!V(r)||!Z(r)||(Object.assign(r.style,c),Object.keys(s).forEach(function(a){r.removeAttribute(a)}))})}}const cs={name:"applyStyles",enabled:!0,phase:"write",fn:os,effect:as,requires:["computeStyles"]};function J(t){return t.split("-")[0]}var Ee=Math.max,Et=Math.min,Re=Math.round;function Kt(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gi(){return!/^((?!chrome|android).)*safari/i.test(Kt())}function Pe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&V(t)&&(r=t.offsetWidth>0&&Re(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Re(i.height)/t.offsetHeight||1);var o=Te(t)?W(t):window,c=o.visualViewport,a=!gi()&&n,l=(i.left+(a&&c?c.offsetLeft:0))/r,u=(i.top+(a&&c?c.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l,x:l,y:u}}function ln(t){var e=Pe(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function mi(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&cn(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ee(t){return W(t).getComputedStyle(t)}function ls(t){return["table","td","th"].indexOf(Z(t))>=0}function de(t){return((Te(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rt(t){return Z(t)==="html"?t:t.assignedSlot||t.parentNode||(cn(t)?t.host:null)||de(t)}function Nn(t){return!V(t)||ee(t).position==="fixed"?null:t.offsetParent}function us(t){var e=/firefox/i.test(Kt()),n=/Trident/i.test(Kt());if(n&&V(t)){var i=ee(t);if(i.position==="fixed")return null}var r=Rt(t);for(cn(r)&&(r=r.host);V(r)&&["html","body"].indexOf(Z(r))<0;){var s=ee(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Ze(t){for(var e=W(t),n=Nn(t);n&&ls(n)&&ee(n).position==="static";)n=Nn(n);return n&&(Z(n)==="html"||Z(n)==="body"&&ee(n).position==="static")?e:n||us(t)||e}function un(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Fe(t,e,n){return Ee(t,Et(e,n))}function ds(t,e,n){var i=Fe(t,e,n);return i>n?n:i}function _i(){return{top:0,right:0,bottom:0,left:0}}function vi(t){return Object.assign({},_i(),t)}function bi(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var hs=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,vi(typeof e!="number"?e:bi(e,Je))};function fs(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,c=J(n.placement),a=un(c),l=[M,z].indexOf(c)>=0,u=l?"height":"width";if(!(!s||!o)){var d=hs(r.padding,n),f=ln(s),h=a==="y"?N:M,m=a==="y"?q:z,v=n.rects.reference[u]+n.rects.reference[a]-o[a]-n.rects.popper[u],p=o[a]-n.rects.reference[a],y=Ze(s),A=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0,b=v/2-p/2,g=d[h],w=A-f[u]-d[m],E=A/2-f[u]/2+b,T=Fe(g,E,w),O=a;n.modifiersData[i]=(e={},e[O]=T,e.centerOffset=T-E,e)}}function ps(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||mi(e.elements.popper,r)&&(e.elements.arrow=r))}const gs={name:"arrow",enabled:!0,phase:"main",fn:fs,effect:ps,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Be(t){return t.split("-")[1]}var ms={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _s(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:Re(e*r)/r||0,y:Re(n*r)/r||0}}function Mn(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,c=t.position,a=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,v=m===void 0?0:m,p=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=p.x,v=p.y;var y=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),b=M,g=N,w=window;if(l){var E=Ze(n),T="clientHeight",O="clientWidth";if(E===W(n)&&(E=de(n),ee(E).position!=="static"&&c==="absolute"&&(T="scrollHeight",O="scrollWidth")),E=E,r===N||(r===M||r===z)&&s===We){g=q;var I=d&&E===w&&w.visualViewport?w.visualViewport.height:E[T];v-=I-i.height,v*=a?1:-1}if(r===M||(r===N||r===q)&&s===We){b=z;var D=d&&E===w&&w.visualViewport?w.visualViewport.width:E[O];h-=D-i.width,h*=a?1:-1}}var L=Object.assign({position:c},l&&ms),G=u===!0?_s({x:h,y:v}):{x:h,y:v};if(h=G.x,v=G.y,a){var S;return Object.assign({},L,(S={},S[g]=A?"0":"",S[b]=y?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",S))}return Object.assign({},L,(e={},e[g]=A?v+"px":"",e[b]=y?h+"px":"",e.transform="",e))}function vs(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,c=n.roundOffsets,a=c===void 0?!0:c,l={placement:J(e.placement),variation:Be(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mn(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mn(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vs,data:{}};var ot={passive:!0};function ys(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,c=o===void 0?!0:o,a=W(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(u){u.addEventListener("scroll",n.update,ot)}),c&&a.addEventListener("resize",n.update,ot),function(){s&&l.forEach(function(u){u.removeEventListener("scroll",n.update,ot)}),c&&a.removeEventListener("resize",n.update,ot)}}const ws={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ys,data:{}};var Es={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(t){return t.replace(/left|right|bottom|top/g,function(e){return Es[e]})}var As={start:"end",end:"start"};function $n(t){return t.replace(/start|end/g,function(e){return As[e]})}function dn(t){var e=W(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function hn(t){return Pe(de(t)).left+dn(t).scrollLeft}function Ts(t,e){var n=W(t),i=de(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,c=0,a=0;if(r){s=r.width,o=r.height;var l=gi();(l||!l&&e==="fixed")&&(c=r.offsetLeft,a=r.offsetTop)}return{width:s,height:o,x:c+hn(t),y:a}}function ks(t){var e,n=de(t),i=dn(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Ee(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Ee(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+hn(t),a=-i.scrollTop;return ee(r||n).direction==="rtl"&&(c+=Ee(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:c,y:a}}function fn(t){var e=ee(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function yi(t){return["html","body","#document"].indexOf(Z(t))>=0?t.ownerDocument.body:V(t)&&fn(t)?t:yi(Rt(t))}function Ve(t,e){var n;e===void 0&&(e=[]);var i=yi(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=W(i),o=r?[s].concat(s.visualViewport||[],fn(i)?i:[]):i,c=e.concat(o);return r?c:c.concat(Ve(Rt(o)))}function Yt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xs(t,e){var n=Pe(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function jn(t,e,n){return e===fi?Yt(Ts(t,n)):Te(e)?xs(e,n):Yt(ks(de(t)))}function Os(t){var e=Ve(Rt(t)),n=["absolute","fixed"].indexOf(ee(t).position)>=0,i=n&&V(t)?Ze(t):t;return Te(i)?e.filter(function(r){return Te(r)&&mi(r,i)&&Z(r)!=="body"}):[]}function Cs(t,e,n,i){var r=e==="clippingParents"?Os(t):[].concat(e),s=[].concat(r,[n]),o=s[0],c=s.reduce(function(a,l){var u=jn(t,l,i);return a.top=Ee(u.top,a.top),a.right=Et(u.right,a.right),a.bottom=Et(u.bottom,a.bottom),a.left=Ee(u.left,a.left),a},jn(t,o,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wi(t){var e=t.reference,n=t.element,i=t.placement,r=i?J(i):null,s=i?Be(i):null,o=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,a;switch(r){case N:a={x:o,y:e.y-n.height};break;case q:a={x:o,y:e.y+e.height};break;case z:a={x:e.x+e.width,y:c};break;case M:a={x:e.x-n.width,y:c};break;default:a={x:e.x,y:e.y}}var l=r?un(r):null;if(l!=null){var u=l==="y"?"height":"width";switch(s){case Se:a[l]=a[l]-(e[u]/2-n[u]/2);break;case We:a[l]=a[l]+(e[u]/2-n[u]/2);break}}return a}function Ge(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,c=n.boundary,a=c===void 0?Xr:c,l=n.rootBoundary,u=l===void 0?fi:l,d=n.elementContext,f=d===void 0?je:d,h=n.altBoundary,m=h===void 0?!1:h,v=n.padding,p=v===void 0?0:v,y=vi(typeof p!="number"?p:bi(p,Je)),A=f===je?Kr:je,b=t.rects.popper,g=t.elements[m?A:f],w=Cs(Te(g)?g:g.contextElement||de(t.elements.popper),a,u,o),E=Pe(t.elements.reference),T=wi({reference:E,element:b,strategy:"absolute",placement:r}),O=Yt(Object.assign({},b,T)),I=f===je?O:E,D={top:w.top-I.top+y.top,bottom:I.bottom-w.bottom+y.bottom,left:w.left-I.left+y.left,right:I.right-w.right+y.right},L=t.modifiersData.offset;if(f===je&&L){var G=L[r];Object.keys(D).forEach(function(S){var he=[z,q].indexOf(S)>=0?1:-1,fe=[N,q].indexOf(S)>=0?"y":"x";D[S]+=G[fe]*he})}return D}function Is(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,c=n.flipVariations,a=n.allowedAutoPlacements,l=a===void 0?pi:a,u=Be(i),d=u?c?Un:Un.filter(function(m){return Be(m)===u}):Je,f=d.filter(function(m){return l.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,v){return m[v]=Ge(t,{placement:v,boundary:r,rootBoundary:s,padding:o})[J(v)],m},{});return Object.keys(h).sort(function(m,v){return h[m]-h[v]})}function Ds(t){if(J(t)===an)return[];var e=gt(t);return[$n(t),e,$n(e)]}function Ls(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,c=o===void 0?!0:o,a=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,v=n.allowedAutoPlacements,p=e.options.placement,y=J(p),A=y===p,b=a||(A||!m?[gt(p)]:Ds(p)),g=[p].concat(b).reduce(function(Oe,te){return Oe.concat(J(te)===an?Is(e,{placement:te,boundary:u,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:v}):te)},[]),w=e.rects.reference,E=e.rects.popper,T=new Map,O=!0,I=g[0],D=0;D<g.length;D++){var L=g[D],G=J(L),S=Be(L)===Se,he=[N,q].indexOf(G)>=0,fe=he?"width":"height",$=Ge(e,{placement:L,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),X=he?S?z:M:S?q:N;w[fe]>E[fe]&&(X=gt(X));var tt=gt(X),pe=[];if(s&&pe.push($[G]<=0),c&&pe.push($[X]<=0,$[tt]<=0),pe.every(function(Oe){return Oe})){I=L,O=!1;break}T.set(L,pe)}if(O)for(var nt=m?3:1,Ut=function(te){var $e=g.find(function(rt){var ge=T.get(rt);if(ge)return ge.slice(0,te).every(function(Nt){return Nt})});if($e)return I=$e,"break"},Me=nt;Me>0;Me--){var it=Ut(Me);if(it==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}const Ss={name:"flip",enabled:!0,phase:"main",fn:Ls,requiresIfExists:["offset"],data:{_skip:!1}};function Hn(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Fn(t){return[N,z,q,M].some(function(e){return t[e]>=0})}function Rs(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ge(e,{elementContext:"reference"}),c=Ge(e,{altBoundary:!0}),a=Hn(o,i),l=Hn(c,r,s),u=Fn(a),d=Fn(l);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Ps={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rs};function Bs(t,e,n){var i=J(t),r=[M,N].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],c=s[1];return o=o||0,c=(c||0)*r,[M,z].indexOf(i)>=0?{x:c,y:o}:{x:o,y:c}}function Us(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=pi.reduce(function(u,d){return u[d]=Bs(d,e.rects,s),u},{}),c=o[e.placement],a=c.x,l=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=o}const Ns={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Us};function Ms(t){var e=t.state,n=t.name;e.modifiersData[n]=wi({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const $s={name:"popperOffsets",enabled:!0,phase:"read",fn:Ms,data:{}};function js(t){return t==="x"?"y":"x"}function Hs(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,c=o===void 0?!1:o,a=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,v=m===void 0?0:m,p=Ge(e,{boundary:a,rootBoundary:l,padding:d,altBoundary:u}),y=J(e.placement),A=Be(e.placement),b=!A,g=un(y),w=js(g),E=e.modifiersData.popperOffsets,T=e.rects.reference,O=e.rects.popper,I=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,D=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(E){if(s){var S,he=g==="y"?N:M,fe=g==="y"?q:z,$=g==="y"?"height":"width",X=E[g],tt=X+p[he],pe=X-p[fe],nt=h?-O[$]/2:0,Ut=A===Se?T[$]:O[$],Me=A===Se?-O[$]:-T[$],it=e.elements.arrow,Oe=h&&it?ln(it):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_i(),$e=te[he],rt=te[fe],ge=Fe(0,T[$],Oe[$]),Nt=b?T[$]/2-nt-ge-$e-D.mainAxis:Ut-ge-$e-D.mainAxis,ir=b?-T[$]/2+nt+ge+rt+D.mainAxis:Me+ge+rt+D.mainAxis,Mt=e.elements.arrow&&Ze(e.elements.arrow),rr=Mt?g==="y"?Mt.clientTop||0:Mt.clientLeft||0:0,En=(S=L==null?void 0:L[g])!=null?S:0,sr=X+Nt-En-rr,or=X+ir-En,An=Fe(h?Et(tt,sr):tt,X,h?Ee(pe,or):pe);E[g]=An,G[g]=An-X}if(c){var Tn,ar=g==="x"?N:M,cr=g==="x"?q:z,me=E[w],st=w==="y"?"height":"width",kn=me+p[ar],xn=me-p[cr],$t=[N,M].indexOf(y)!==-1,On=(Tn=L==null?void 0:L[w])!=null?Tn:0,Cn=$t?kn:me-T[st]-O[st]-On+D.altAxis,In=$t?me+T[st]+O[st]-On-D.altAxis:xn,Dn=h&&$t?ds(Cn,me,In):Fe(h?Cn:kn,me,h?In:xn);E[w]=Dn,G[w]=Dn-me}e.modifiersData[i]=G}}const Fs={name:"preventOverflow",enabled:!0,phase:"main",fn:Hs,requiresIfExists:["offset"]};function Vs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function qs(t){return t===W(t)||!V(t)?dn(t):Vs(t)}function zs(t){var e=t.getBoundingClientRect(),n=Re(e.width)/t.offsetWidth||1,i=Re(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Ws(t,e,n){n===void 0&&(n=!1);var i=V(e),r=V(e)&&zs(e),s=de(e),o=Pe(t,r,n),c={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!n)&&((Z(e)!=="body"||fn(s))&&(c=qs(e)),V(e)?(a=Pe(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=hn(s))),{x:o.left+c.scrollLeft-a.x,y:o.top+c.scrollTop-a.y,width:o.width,height:o.height}}function Gs(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(c){if(!n.has(c)){var a=e.get(c);a&&r(a)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function Xs(t){var e=Gs(t);return ss.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Ks(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ys(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Vn={placement:"bottom",modifiers:[],strategy:"absolute"};function qn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Js(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?Vn:r;return function(c,a,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vn,s),modifiersData:{},elements:{reference:c,popper:a},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(y){var A=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},s,u.options,A),u.scrollParents={reference:Te(c)?Ve(c):c.contextElement?Ve(c.contextElement):[],popper:Ve(a)};var b=Xs(Ys([].concat(i,u.options.modifiers)));return u.orderedModifiers=b.filter(function(g){return g.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var y=u.elements,A=y.reference,b=y.popper;if(qn(A,b)){u.rects={reference:Ws(A,Ze(b),u.options.strategy==="fixed"),popper:ln(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var w=u.orderedModifiers[g],E=w.fn,T=w.options,O=T===void 0?{}:T,I=w.name;typeof E=="function"&&(u=E({state:u,options:O,name:I,instance:h})||u)}}}},update:Ks(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){v(),f=!0}};if(!qn(c,a))return h;h.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function m(){u.orderedModifiers.forEach(function(p){var y=p.name,A=p.options,b=A===void 0?{}:A,g=p.effect;if(typeof g=="function"){var w=g({state:u,name:y,instance:h,options:b}),E=function(){};d.push(w||E)}})}function v(){d.forEach(function(p){return p()}),d=[]}return h}}var Zs=[ws,$s,bs,cs,Ns,Ss,Fs,gs,Ps],pn=Js({defaultModifiers:Zs}),ne=globalThis&&globalThis.__assign||function(){return ne=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ne.apply(this,arguments)},at=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},be={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,onShow:function(){},onHide:function(){},onToggle:function(){}},Ei=function(){function t(e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=be),this._targetEl=e,this._triggerEl=n,this._options=ne(ne({},be),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){e.toggle()})}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){i==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)}),e._targetEl.addEventListener(i,function(){e.show()})}),n.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)}),e._targetEl.addEventListener(i,function(){setTimeout(function(){e._triggerEl.matches(":hover")||e.hide()},e._options.delay)})}))},t.prototype._createPopperInstance=function(){return pn(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var i=e.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return ne(ne({},e),{modifiers:at(at([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return ne(ne({},e),{modifiers:at(at([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t}();typeof window<"u"&&(window.Dropdown=Ei);function Qs(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var i=t.getAttribute("data-dropdown-placement"),r=t.getAttribute("data-dropdown-offset-skidding"),s=t.getAttribute("data-dropdown-offset-distance"),o=t.getAttribute("data-dropdown-trigger"),c=t.getAttribute("data-dropdown-delay");new Ei(n,t,{placement:i||be.placement,triggerType:o||be.triggerType,offsetSkidding:r?parseInt(r):be.offsetSkidding,offsetDistance:s?parseInt(s):be.offsetDistance,delay:c?parseInt(c):be.delay})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}var At=globalThis&&globalThis.__assign||function(){return At=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},At.apply(this,arguments)},De={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Tt=function(){function t(e,n){e===void 0&&(e=null),n===void 0&&(n=De),this._targetEl=e,this._options=At(At({},De),n),this._isHidden=!0,this._backdropEl=null,this._init()}return t.prototype._init=function(){var e=this;this._targetEl&&this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)})},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t}();typeof window<"u"&&(window.Modal=Tt);var ct=function(t,e){return e.some(function(n){return n.id===t})?e.find(function(n){return n.id===t}):null};function eo(){var t=[];document.querySelectorAll("[data-modal-target]").forEach(function(e){var n=e.getAttribute("data-modal-target"),i=document.getElementById(n);if(i){var r=i.getAttribute("data-modal-placement"),s=i.getAttribute("data-modal-backdrop");ct(n,t)||t.push({id:n,object:new Tt(i,{placement:r||De.placement,backdrop:s||De.backdrop})})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var n=e.getAttribute("data-modal-toggle"),i=document.getElementById(n);if(i){var r=i.getAttribute("data-modal-placement"),s=i.getAttribute("data-modal-backdrop"),o=ct(n,t);o||(o={id:n,object:new Tt(i,{placement:r||De.placement,backdrop:s||De.backdrop})},t.push(o)),e.addEventListener("click",function(){o.object.toggle()})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var n=e.getAttribute("data-modal-show"),i=document.getElementById(n);if(i){var r=ct(n,t);r?e.addEventListener("click",function(){r.object.isHidden&&r.object.show()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var n=e.getAttribute("data-modal-hide"),i=document.getElementById(n);if(i){var r=ct(n,t);r?e.addEventListener("click",function(){r.object.isVisible&&r.object.hide()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}var kt=globalThis&&globalThis.__assign||function(){return kt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},kt.apply(this,arguments)},ye={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Ai=function(){function t(e,n){e===void 0&&(e=null),n===void 0&&(n=ye),this._targetEl=e,this._options=kt(kt({},ye),n),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),document.addEventListener("keydown",function(n){n.key==="Escape"&&e.isVisible()&&e.hide()})},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(e=i.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t}();typeof window<"u"&&(window.Drawer=Ai);var lt=function(t,e){if(e.some(function(n){return n.id===t}))return e.find(function(n){return n.id===t})};function to(){var t=[];document.querySelectorAll("[data-drawer-target]").forEach(function(e){var n=e.getAttribute("data-drawer-target"),i=document.getElementById(n);if(i){var r=e.getAttribute("data-drawer-placement"),s=e.getAttribute("data-drawer-body-scrolling"),o=e.getAttribute("data-drawer-backdrop"),c=e.getAttribute("data-drawer-edge"),a=e.getAttribute("data-drawer-edge-offset");lt(n,t)||t.push({id:n,object:new Ai(i,{placement:r||ye.placement,bodyScrolling:s?s==="true":ye.bodyScrolling,backdrop:o?o==="true":ye.backdrop,edge:c?c==="true":ye.edge,edgeOffset:a||ye.edgeOffset})})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var n=e.getAttribute("data-drawer-toggle"),i=document.getElementById(n);if(i){var r=lt(n,t);r?e.addEventListener("click",function(){r.object.toggle()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var n=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),i=document.getElementById(n);if(i){var r=lt(n,t);r?e.addEventListener("click",function(){r.object.hide()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var n=e.getAttribute("data-drawer-show"),i=document.getElementById(n);if(i){var r=lt(n,t);r?e.addEventListener("click",function(){r.object.show()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}var xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},xt.apply(this,arguments)},zn={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Ti=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=zn),this._items=e,this._activeTab=n?this.getTab(n.defaultTabId):null,this._options=xt(xt({},zn),n),this._init()}return t.prototype._init=function(){var e=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(){e.show(n.id)})}))},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype._setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var i,r,s=this;n===void 0&&(n=!1);var o=this.getTab(e);o===this._activeTab&&!n||(this._items.map(function(c){var a,l;c!==o&&((a=c.triggerEl.classList).remove.apply(a,s._options.activeClasses.split(" ")),(l=c.triggerEl.classList).add.apply(l,s._options.inactiveClasses.split(" ")),c.targetEl.classList.add("hidden"),c.triggerEl.setAttribute("aria-selected","false"))}),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this._setActiveTab(o),this._options.onShow(this,o))},t}();typeof window<"u"&&(window.Tabs=Ti);function no(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=null;t.querySelectorAll('[role="tab"]').forEach(function(i){var r=i.getAttribute("aria-selected")==="true",s={id:i.getAttribute("data-tabs-target"),triggerEl:i,targetEl:document.querySelector(i.getAttribute("data-tabs-target"))};e.push(s),r&&(n=s.id)}),new Ti(e,{defaultTabId:n})})}var ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ie.apply(this,arguments)},ut=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},Ot={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},ki=function(){function t(e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=Ot),this._targetEl=e,this._triggerEl=n,this._options=ie(ie({},Ot),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();n.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){e.show()})}),n.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){e.hide()})})},t.prototype._createPopperInstance=function(){return pn(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var i=e.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return ie(ie({},e),{modifiers:ut(ut([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return ie(ie({},e),{modifiers:ut(ut([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();typeof window<"u"&&(window.Tooltip=ki);function io(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var i=t.getAttribute("data-tooltip-trigger"),r=t.getAttribute("data-tooltip-placement");new ki(n,t,{placement:r||Ot.placement,triggerType:i||Ot.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}var re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},re.apply(this,arguments)},dt=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},qe={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},xi=function(){function t(e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=qe),this._targetEl=e,this._triggerEl=n,this._options=re(re({},qe),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();n.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){e.show()}),e._targetEl.addEventListener(i,function(){e.show()})}),n.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)}),e._targetEl.addEventListener(i,function(){setTimeout(function(){e._triggerEl.matches(":hover")||e.hide()},100)})})},t.prototype._createPopperInstance=function(){return pn(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var i=e.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return re(re({},e),{modifiers:dt(dt([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return re(re({},e),{modifiers:dt(dt([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();typeof window<"u"&&(window.Popover=xi);function ro(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var i=t.getAttribute("data-popover-trigger"),r=t.getAttribute("data-popover-placement"),s=t.getAttribute("data-popover-offset");new xi(n,t,{placement:r||qe.placement,offset:s?parseInt(s):qe.offset,triggerType:i||qe.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}var Ct=globalThis&&globalThis.__assign||function(){return Ct=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Ct.apply(this,arguments)},Jt={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Oi=function(){function t(e,n,i,r){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),r===void 0&&(r=Jt),this._parentEl=e,this._triggerEl=n,this._targetEl=i,this._options=Ct(Ct({},Jt),r),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;if(this._triggerEl){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,function(){e.show()}),e._targetEl.addEventListener(i,function(){e.show()})}),n.hideEvents.forEach(function(i){e._parentEl.addEventListener(i,function(){e._parentEl.matches(":hover")||e.hide()})})}},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t}();typeof window<"u"&&(window.Dial=Oi);function so(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),i=document.getElementById(n);if(i){var r=e.getAttribute("data-dial-trigger");new Oi(t,e,i,{triggerType:r||Jt.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}var oo=new Vr("load",[qr,zr,Wr,Gr,Qs,eo,to,no,io,ro,so]);oo.init();const ao=t=>{const e={placement:"bottom-right",backdrop:"dynamic",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",closable:!1,onHide:()=>{console.log("modal is hidden")},onShow:()=>{console.log("modal is shown")},onToggle:()=>{console.log("modal has been toggled")}};return new Tt(t,e)},co=_("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),lo=ue({__name:"FeedBackModal",setup(t,{expose:e}){const n=U();return e({show:()=>{if(n.value){_t.value=ao(n.value),_t.value.show();return}alert("no element")}}),(r,s)=>(H(),K("div",{ref_key:"rideOptionsModal",ref:n,tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},[mt(r.$slots,"default"),co],512))}}),uo={class:"relative p-4 w-full lg:w-[744px] h-full"},ho={class:"relative p-4 ] bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5 min-h-[500px]"},fo={class:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 border-gray-100"},po=_("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[_("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),go=_("span",{class:"sr-only"},"Close modal",-1),mo=[po,go],_o=ue({__name:"ModalWrapper",emits:["close"],setup(t,{emit:e}){return(n,i)=>(H(),K("div",uo,[_("div",ho,[_("div",fo,[mt(n.$slots,"header"),_("button",{type:"button",onClick:i[0]||(i[0]=r=>e("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal"},mo)]),mt(n.$slots,"default")])]))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},vo=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],c=t[n++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ii={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,c=o?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,u=s>>2,d=(s&3)<<4|c>>4;let f=(c&15)<<2|l>>6,h=l&63;a||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ci(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vo(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||c==null||l==null||d==null)throw new bo;const f=s<<2|c>>4;if(i.push(f),l!==64){const h=c<<4&240|l>>2;if(i.push(h),d!==64){const m=l<<6&192|d;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yo=function(t){const e=Ci(t);return Ii.encodeByteArray(e,!0)},It=function(t){return yo(t).replace(/\./g,"")},wo=function(t){try{return Ii.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=()=>Eo().__FIREBASE_DEFAULTS__,To=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ko=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wo(t[1]);return e&&JSON.parse(e)},gn=()=>{try{return Ao()||To()||ko()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xo=t=>{var e,n;return(n=(e=gn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Oo=t=>{const e=xo(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Di=()=>{var t;return(t=gn())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[It(JSON.stringify(n)),It(JSON.stringify(o)),c].join(".")}function Do(){var t;const e=(t=gn())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lo(){try{return typeof indexedDB=="object"}catch{return!1}}function So(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirebaseError";class Ue extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ro,Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li.prototype.create)}}class Li{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Po(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Ue(r,c,i)}}function Po(t,e){return t.replace(Bo,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Bo=/\{\$([^}]+)}/g;function Zt(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Wn(s)&&Wn(o)){if(!Zt(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Wn(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Xe{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Co;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mo(e))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=_e){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_e){return this.instances.has(e)}getOptions(e=_e){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:No(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_e){return this.component?this.component.multipleInstances?e:_e:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function No(t){return t===_e?void 0:t}function Mo(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uo(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(k||(k={}));const jo={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},Ho=k.INFO,Fo={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Vo=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Fo[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qo{constructor(e){this.name=e,this._logLevel=Ho,this._logHandler=Vo,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in k))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...e),this._logHandler(this,k.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...e),this._logHandler(this,k.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,k.INFO,...e),this._logHandler(this,k.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,k.WARN,...e),this._logHandler(this,k.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...e),this._logHandler(this,k.ERROR,...e)}}const zo=(t,e)=>e.some(n=>t instanceof n);let Gn,Xn;function Wo(){return Gn||(Gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Go(){return Xn||(Xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Si=new WeakMap,Qt=new WeakMap,Ri=new WeakMap,jt=new WeakMap,mn=new WeakMap;function Xo(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ce(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Si.set(n,t)}).catch(()=>{}),mn.set(e,t),e}function Ko(t){if(Qt.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qt.set(t,e)}let en={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ri.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yo(t){en=t(en)}function Jo(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ht(this),e,...n);return Ri.set(i,e.sort?e.sort():[e]),ce(i)}:Go().includes(t)?function(...e){return t.apply(Ht(this),e),ce(Si.get(this))}:function(...e){return ce(t.apply(Ht(this),e))}}function Zo(t){return typeof t=="function"?Jo(t):(t instanceof IDBTransaction&&Ko(t),zo(t,Wo())?new Proxy(t,en):t)}function ce(t){if(t instanceof IDBRequest)return Xo(t);if(jt.has(t))return jt.get(t);const e=Zo(t);return e!==t&&(jt.set(t,e),mn.set(e,t)),e}const Ht=t=>mn.get(t);function Qo(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),c=ce(o);return i&&o.addEventListener("upgradeneeded",a=>{i(ce(o.result),a.oldVersion,a.newVersion,ce(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}const ea=["get","getKey","getAll","getAllKeys","count"],ta=["put","add","delete","clear"],Ft=new Map;function Kn(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ft.get(e))return Ft.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=ta.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ea.includes(n)))return;const s=async function(o,...c){const a=this.transaction(o,r?"readwrite":"readonly");let l=a.store;return i&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),r&&a.done]))[0]};return Ft.set(e,s),s}Yo(t=>({...t,get:(e,n,i)=>Kn(e,n)||t.get(e,n,i),has:(e,n)=>!!Kn(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ia(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ia(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tn="@firebase/app",Yn="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=new qo("@firebase/app"),ra="@firebase/app-compat",sa="@firebase/analytics-compat",oa="@firebase/analytics",aa="@firebase/app-check-compat",ca="@firebase/app-check",la="@firebase/auth",ua="@firebase/auth-compat",da="@firebase/database",ha="@firebase/database-compat",fa="@firebase/functions",pa="@firebase/functions-compat",ga="@firebase/installations",ma="@firebase/installations-compat",_a="@firebase/messaging",va="@firebase/messaging-compat",ba="@firebase/performance",ya="@firebase/performance-compat",wa="@firebase/remote-config",Ea="@firebase/remote-config-compat",Aa="@firebase/storage",Ta="@firebase/storage-compat",ka="@firebase/firestore",xa="@firebase/firestore-compat",Oa="firebase",Ca="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="[DEFAULT]",Ia={[tn]:"fire-core",[ra]:"fire-core-compat",[oa]:"fire-analytics",[sa]:"fire-analytics-compat",[ca]:"fire-app-check",[aa]:"fire-app-check-compat",[la]:"fire-auth",[ua]:"fire-auth-compat",[da]:"fire-rtdb",[ha]:"fire-rtdb-compat",[fa]:"fire-fn",[pa]:"fire-fn-compat",[ga]:"fire-iid",[ma]:"fire-iid-compat",[_a]:"fire-fcm",[va]:"fire-fcm-compat",[ba]:"fire-perf",[ya]:"fire-perf-compat",[wa]:"fire-rc",[Ea]:"fire-rc-compat",[Aa]:"fire-gcs",[Ta]:"fire-gcs-compat",[ka]:"fire-fst",[xa]:"fire-fst-compat","fire-js":"fire-js",[Oa]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Map,rn=new Map;function Da(t,e){try{t.container.addComponent(e)}catch(n){ke.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lt(t){const e=t.name;if(rn.has(e))return ke.debug(`There were multiple attempts to register component ${e}.`),!1;rn.set(e,t);for(const n of Dt.values())Da(n,t);return!0}function La(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},le=new Li("app","Firebase",Sa);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=Ca;function Pi(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nn,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw le.create("bad-app-name",{appName:String(r)});if(n||(n=Di()),!n)throw le.create("no-options");const s=Dt.get(r);if(s){if(Zt(n,s.options)&&Zt(i,s.config))return s;throw le.create("duplicate-app",{appName:r})}const o=new $o(r);for(const a of rn.values())o.addComponent(a);const c=new Ra(n,i,o);return Dt.set(r,c),c}function Ba(t=nn){const e=Dt.get(t);if(!e&&t===nn&&Di())return Pi();if(!e)throw le.create("no-app",{appName:t});return e}function Le(t,e,n){var i;let r=(i=Ia[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ke.warn(c.join(" "));return}Lt(new Xe(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="firebase-heartbeat-database",Na=1,Ke="firebase-heartbeat-store";let Vt=null;function Bi(){return Vt||(Vt=Qo(Ua,Na,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ke)}}}).catch(t=>{throw le.create("idb-open",{originalErrorMessage:t.message})})),Vt}async function Ma(t){try{return await(await Bi()).transaction(Ke).objectStore(Ke).get(Ui(t))}catch(e){if(e instanceof Ue)ke.warn(e.message);else{const n=le.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ke.warn(n.message)}}}async function Jn(t,e){try{const i=(await Bi()).transaction(Ke,"readwrite");await i.objectStore(Ke).put(e,Ui(t)),await i.done}catch(n){if(n instanceof Ue)ke.warn(n.message);else{const i=le.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ke.warn(i.message)}}}function Ui(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=1024,ja=30*24*60*60*1e3;class Ha{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Va(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zn();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=ja}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zn(),{heartbeatsToSend:n,unsentEntries:i}=Fa(this._heartbeatsCache.heartbeats),r=It(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Zn(){return new Date().toISOString().substring(0,10)}function Fa(t,e=$a){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Qn(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qn(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Va{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lo()?So().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ma(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jn(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jn(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qn(t){return It(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){Lt(new Xe("platform-logger",e=>new na(e),"PRIVATE")),Lt(new Xe("heartbeat",e=>new Ha(e),"PRIVATE")),Le(tn,Yn,t),Le(tn,Yn,"esm2017"),Le("fire-js","")}qa("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="firebasestorage.googleapis.com",Mi="storageBucket",za=2*60*1e3,Wa=10*60*1e3,Ga=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C extends Ue{constructor(e,n,i=0){super(qt(e),`Firebase Storage: ${n} (${qt(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,C.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var x;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(x||(x={}));function qt(t){return"storage/"+t}function _n(){const t="An unknown error occurred, please check the error payload for server response.";return new C(x.UNKNOWN,t)}function Xa(t){return new C(x.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ka(t){return new C(x.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ya(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new C(x.UNAUTHENTICATED,t)}function Ja(){return new C(x.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Za(t){return new C(x.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $i(){return new C(x.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ji(){return new C(x.CANCELED,"User canceled the upload/download.")}function Qa(t){return new C(x.INVALID_URL,"Invalid URL '"+t+"'.")}function ec(t){return new C(x.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tc(){return new C(x.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mi+"' property when initializing the app?")}function Hi(){return new C(x.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nc(){return new C(x.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ic(){return new C(x.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rc(t){return new C(x.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sn(t){return new C(x.INVALID_ARGUMENT,t)}function Fi(){return new C(x.APP_DELETED,"The Firebase app was deleted.")}function sc(t){return new C(x.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ze(t,e){return new C(x.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function He(t){throw new C(x.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=F.makeFromUrl(e,n)}catch{return new F(e,"")}if(i.path==="")return i;throw ec(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),a={bucket:1,path:3};function l(g){g.path_=decodeURIComponent(g.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${r}/o${f}`,"i"),m={bucket:1,path:3},v=n===Ni?"(?:storage.googleapis.com|storage.cloud.google.com)":n,p="([^?#]*)",y=new RegExp(`^https?://${v}/${r}/${p}`,"i"),b=[{regex:c,indices:a,postModify:s},{regex:h,indices:m,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let g=0;g<b.length;g++){const w=b[g],E=w.regex.exec(e);if(E){const T=E[w.indices.bucket];let O=E[w.indices.path];O||(O=""),i=new F(T,O),w.postModify(i);break}}if(i==null)throw Qa(e);return i}}class oc{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e,n){let i=1,r=null,s=null,o=!1,c=0;function a(){return c===2}let l=!1;function u(...p){l||(l=!0,e.apply(null,p))}function d(p){r=setTimeout(()=>{r=null,t(h,a())},p)}function f(){s&&clearTimeout(s)}function h(p,...y){if(l){f();return}if(p){f(),u.call(null,p,...y);return}if(a()||o){f(),u.call(null,p,...y);return}i<64&&(i*=2);let b;c===1?(c=2,b=0):b=(i+Math.random())*1e3,d(b)}let m=!1;function v(p){m||(m=!0,f(),!l&&(r!==null?(p||(c=2),clearTimeout(r),d(0)):p||(c=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function cc(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){return t!==void 0}function uc(t){return typeof t=="function"}function dc(t){return typeof t=="object"&&!Array.isArray(t)}function Bt(t){return typeof t=="string"||t instanceof String}function ei(t){return vn()&&t instanceof Blob}function vn(){return typeof Blob<"u"&&!Do()}function ti(t,e,n,i){if(i<e)throw sn(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw sn(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Vi(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ae||(Ae={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,i,r,s,o,c,a,l,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new ht(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const a=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Ae.NO_ERROR,a=s.getStatus();if(!c||qi(a,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Ae.ABORT;i(!1,new ht(!1,null,u));return}const l=this.successCodes_.indexOf(a)!==-1;i(!0,new ht(l,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const a=this.callback_(c,c.getResponse());lc(a)?s(a):s()}catch(a){o(a)}else if(c!==null){const a=_n();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(r.canceled){const a=this.appDelete_?Fi():ji();o(a)}else{const a=$i();o(a)}};this.canceled_?n(!1,new ht(!1,null,!0)):this.backoffId_=ac(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cc(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ht{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function fc(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pc(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gc(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mc(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _c(t,e,n,i,r,s,o=!0){const c=Vi(t.urlParams),a=t.url+c,l=Object.assign({},t.headers);return gc(l,e),fc(l,n),pc(l,s),mc(l,i),new hc(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bc(...t){const e=vc();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(vn())return new Blob(t);throw new C(x.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yc(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(typeof atob>"u")throw rc("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zt{constructor(e,n){this.data=e,this.contentType=n||null}}function Ec(t,e){switch(t){case Y.RAW:return new zt(zi(e));case Y.BASE64:case Y.BASE64URL:return new zt(Wi(t,e));case Y.DATA_URL:return new zt(Tc(e),kc(e))}throw _n()}function zi(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Ac(t){let e;try{e=decodeURIComponent(t)}catch{throw ze(Y.DATA_URL,"Malformed data URL.")}return zi(e)}function Wi(t,e){switch(t){case Y.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw ze(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Y.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw ze(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wc(e)}catch(r){throw r.message.includes("polyfill")?r:ze(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class Gi{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ze(Y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=xc(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Tc(t){const e=new Gi(t);return e.base64?Wi(Y.BASE64,e.rest):Ac(e.rest)}function kc(t){return new Gi(t).contentType}function xc(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){let i=0,r="";ei(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(ei(this.data_)){const i=this.data_,r=yc(i,e,n);return r===null?null:new oe(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new oe(i,!0)}}static getBlob(...e){if(vn()){const n=e.map(i=>i instanceof oe?i.data_:i);return new oe(bc.apply(null,n))}else{const n=e.map(o=>Bt(o)?Ec(Y.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new oe(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){let e;try{e=JSON.parse(t)}catch{return null}return dc(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Cc(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Ki(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){return e}class R{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||Ic}}let ft=null;function Dc(t){return!Bt(t)||t.length<2?t:Ki(t)}function Yi(){if(ft)return ft;const t=[];t.push(new R("bucket")),t.push(new R("generation")),t.push(new R("metageneration")),t.push(new R("name","fullPath",!0));function e(s,o){return Dc(o)}const n=new R("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new R("size");return r.xform=i,t.push(r),t.push(new R("timeCreated")),t.push(new R("updated")),t.push(new R("md5Hash",null,!0)),t.push(new R("cacheControl",null,!0)),t.push(new R("contentDisposition",null,!0)),t.push(new R("contentEncoding",null,!0)),t.push(new R("contentLanguage",null,!0)),t.push(new R("contentType",null,!0)),t.push(new R("metadata","customMetadata",!0)),ft=t,ft}function Lc(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new F(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Sc(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return Lc(i,t),i}function Ji(t,e,n){const i=Xi(e);return i===null?null:Sc(t,i,n)}function Rc(t,e,n,i){const r=Xi(e);if(r===null||!Bt(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),h=Qe(f,n,i),m=Vi({alt:"media",token:l});return h+m})[0]}function Zi(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ne{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t){if(!t)throw _n()}function bn(t,e){function n(i,r){const s=Ji(t,r,e);return Q(s!==null),s}return n}function Pc(t,e){function n(i,r){const s=Ji(t,r,e);return Q(s!==null),Rc(s,r,t.host,t._protocol)}return n}function et(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Ja():r=Ya():n.getStatus()===402?r=Ka(t.bucket):n.getStatus()===403?r=Za(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Qi(t){const e=et(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=Xa(t.path)),s.serverResponse=r.serverResponse,s}return n}function Bc(t,e,n){const i=e.fullServerUrl(),r=Qe(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new Ne(r,s,bn(t,n),o);return c.errorHandler=Qi(e),c}function Uc(t,e,n){const i=e.fullServerUrl(),r=Qe(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new Ne(r,s,Pc(t,n),o);return c.errorHandler=Qi(e),c}function Nc(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function er(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Nc(null,e)),i}function Mc(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const a=c();o["Content-Type"]="multipart/related; boundary="+a;const l=er(e,i,r),u=Zi(l,n),d="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+a+"--",h=oe.getBlob(d,i,f);if(h===null)throw Hi();const m={name:l.fullPath},v=Qe(s,t.host,t._protocol),p="POST",y=t.maxUploadRetryTime,A=new Ne(v,p,bn(t,n),y);return A.urlParams=m,A.headers=o,A.body=h.uploadData(),A.errorHandler=et(e),A}class St{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function yn(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Q(!1)}return Q(!!n&&(e||["active"]).indexOf(n)!==-1),n}function $c(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=er(e,i,r),c={name:o.fullPath},a=Qe(s,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=Zi(o,n),f=t.maxUploadRetryTime;function h(v){yn(v);let p;try{p=v.getResponseHeader("X-Goog-Upload-URL")}catch{Q(!1)}return Q(Bt(p)),p}const m=new Ne(a,l,h,f);return m.urlParams=c,m.headers=u,m.body=d,m.errorHandler=et(e),m}function jc(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(l){const u=yn(l,["active","final"]);let d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Q(!1)}d||Q(!1);const f=Number(d);return Q(!isNaN(f)),new St(f,i.size(),u==="final")}const o="POST",c=t.maxUploadRetryTime,a=new Ne(n,o,s,c);return a.headers=r,a.errorHandler=et(e),a}const ni=256*1024;function Hc(t,e,n,i,r,s,o,c){const a=new St(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw nc();const l=a.total-a.current;let u=l;r>0&&(u=Math.min(u,r));const d=a.current,f=d+u;let h="";u===0?h="finalize":l===u?h="upload, finalize":h="upload";const m={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${a.current}`},v=i.slice(d,f);if(v===null)throw Hi();function p(g,w){const E=yn(g,["active","final"]),T=a.current+u,O=i.size();let I;return E==="final"?I=bn(e,s)(g,w):I=null,new St(T,O,E==="final",I)}const y="POST",A=e.maxUploadRetryTime,b=new Ne(n,y,p,A);return b.headers=m,b.body=v.uploadData(),b.progressCallback=c||null,b.errorHandler=et(t),b}const P={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wt(t){switch(t){case"running":case"pausing":case"canceling":return P.RUNNING;case"paused":return P.PAUSED;case"success":return P.SUCCESS;case"canceled":return P.CANCELED;case"error":return P.ERROR;default:return P.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,i){if(uc(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Vc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ae.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ae.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ae.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw He("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw He("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw He("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw He("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw He("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qc extends Vc{initXhr(){this.xhr_.responseType="text"}}function Ie(){return new qc}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Yi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(x.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(qi(r.status,[]))if(s)r=$i();else{this.sleepTime=Math.max(this.sleepTime*2,Ga),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(x.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=$c(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ie,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=jc(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Ie,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ni*this._chunkMultiplier,n=new St(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=Hc(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}const c=this._ref.storage._makeRequest(o,Ie,r,s,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ni*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=Bc(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ie,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=Mc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ie,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ji(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Wt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new Fc(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Wt(this._state)){case P.SUCCESS:Ce(this._resolve.bind(null,this.snapshot))();break;case P.CANCELED:case P.ERROR:const n=this._reject;Ce(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Wt(this._state)){case P.RUNNING:case P.PAUSED:e.next&&Ce(e.next.bind(e,this.snapshot))();break;case P.SUCCESS:e.complete&&Ce(e.complete.bind(e))();break;case P.CANCELED:case P.ERROR:e.error&&Ce(e.error.bind(e,this._error))();break;default:e.error&&Ce(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this._service=e,n instanceof F?this._location=n:this._location=F.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xe(e,n)}get root(){const e=new F(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ki(this._location.path)}get storage(){return this._service}get parent(){const e=Oc(this._location.path);if(e===null)return null;const n=new F(this._location.bucket,e);return new xe(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sc(e)}}function Wc(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new zc(t,new oe(e),n)}function Gc(t){t._throwIfRoot("getDownloadURL");const e=Uc(t.storage,t._location,Yi());return t.storage.makeRequestWithTokens(e,Ie).then(n=>{if(n===null)throw ic();return n})}function Xc(t,e){const n=Cc(t._location.path,e),i=new F(t._location.bucket,n);return new xe(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return/^[A-Za-z]+:\/\//.test(t)}function Yc(t,e){return new xe(t,e)}function tr(t,e){if(t instanceof wn){const n=t;if(n._bucket==null)throw tc();const i=new xe(n,n._bucket);return e!=null?tr(i,e):i}else return e!==void 0?Xc(t,e):t}function Jc(t,e){if(e&&Kc(e)){if(t instanceof wn)return Yc(t,e);throw sn("To use ref(service, url), the first argument must be a Storage instance.")}else return tr(t,e)}function ii(t,e){const n=e==null?void 0:e[Mi];return n==null?null:F.makeFromBucketSpec(n,t)}function Zc(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Io(r,t.app.options.projectId))}class wn{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Ni,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=za,this._maxUploadRetryTime=Wa,this._requests=new Set,r!=null?this._bucket=F.makeFromBucketSpec(r,this._host):this._bucket=ii(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=F.makeFromBucketSpec(this._url,e):this._bucket=ii(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ti("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ti("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xe(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new oc(Fi());{const o=_c(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const ri="@firebase/storage",si="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="storage";function Qc(t,e,n){return t=Pt(t),Wc(t,e,n)}function el(t){return t=Pt(t),Gc(t)}function tl(t,e){return t=Pt(t),Jc(t,e)}function nl(t=Ba(),e){t=Pt(t);const i=La(t,nr).getImmediate({identifier:e}),r=Oo("storage");return r&&il(i,...r),i}function il(t,e,n,i={}){Zc(t,e,n,i)}function rl(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new wn(n,i,r,e,Pa)}function sl(){Lt(new Xe(nr,rl,"PUBLIC").setMultipleInstances(!0)),Le(ri,si,""),Le(ri,si,"esm2017")}sl();var ol="firebase",al="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le(ol,al,"app");const cl={apiKey:"AIzaSyCAHZjMfbrnQFWn3LdQXaukMaSC5BhlhwE",authDomain:"ki67-app.firebaseapp.com",projectId:"ki67-app",storageBucket:"ki67-app.appspot.com",messagingSenderId:"56553490214",appId:"1:56553490214:web:2dd72d89abe43bd2ad23e7"},ll=Pi(cl),ul=nl(ll),dl=(t,e,n,i,r,s)=>new Promise((o,c)=>{const a={},l=tl(ul,`${e}/${t}`),u=Qc(l,n);u.on("state_changed",d=>{const f=d.bytesTransferred/d.totalBytes*100;switch(r==null||r(`${f} + %`),console.log("Upload is "+f+"% done"),d.state){case"paused":console.log("Upload is paused"),s==null||s("Upload is paused ");break;case"running":s==null||s("Upload is running"),console.log("Upload is running");break;case"success":s==null||s("Upload is successfully"),console.log("Upload is successfully");break;case"canceled":s==null||s("Upload is canceled"),console.log("Upload is canceled");break;case"error":s==null||s("Upload is error"),console.log("Upload is error");break}},d=>{switch(a.status=!1,a.message=d.message,i==null||i(a),d.code){case"storage/unauthorized":console.log("User does'nt have permission to access the object");break;case"storage/canceled":console.log("user canceled the upload");break;case"storage/unknown":console.log("Unknown error occurred, inspect error.serverResponse");break}c(a)},()=>{el(u.snapshot.ref).then(d=>{console.log("File available at",d),a.status=!0,a.url=d,i==null||i(a),o(a)})})}),hl=_("p",{class:"text-center text-2xl font-semibold w-full"}," Report a discrepancy ",-1),fl=["onSubmit"],pl=ue({__name:"FeedBack",setup(t){const e=U(!1),n=Ye(),i=U(""),r=U(""),s=async()=>{var u,d;if(!i.value||!r.value)return;const a=await c(),l=JSON.stringify({pCount:i.value+"%",aCount:Math.ceil((((d=(u=n.counterData)==null?void 0:u.data)==null?void 0:d.count)??0)*100)/100+"%",image:a,comment:r.value,recipient:"aaishah.raquib@gmail.com",subject:"New Ki67 Feedback"});e.value=!0,window.scrollTo(0,0),document.body.scrollTop=0,e.value=!0,br({url:"https://script.google.com/macros/s/AKfycbzGwY2UKd9v2zyYo1bbnGcbDBNSV7jNpXfnu9TdLmplEZ7RVHF_wfNz8Aftm_UxYLqd/exec",body:l,result:({data:f})=>{e.value=!e.value,console.log({data:f}),o()},error:f=>{console.log({err:f}),alert("an error occured")},onFinally:()=>{e.value=!e.value}})},o=()=>{var a;(a=_t.value)==null||a.hide()},c=async()=>{if(e.value=!0,n.formValues.image_file){const a=(await dl(new Date+"","report",n.formValues.image_file)).url;return e.value=!1,a}};return ci(()=>{var a;(a=_t.value)==null||a.hide()}),(a,l)=>{const u=ae("app-input"),d=ae("app-textarea"),f=ae("app-button");return H(),K("div",null,[j(_o,{onClose:o},{header:we(()=>[hl]),default:we(()=>[_("form",{onSubmit:on(s,["prevent"])},[j(u,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=h=>i.value=h),name:"company",type:"text",label:"What do you think the count should have been? It's OK if you only have a rough approximation.",class:"text-field-3 w-input focus:outline-0 border-none px-4",placeholder:"",disabled:!0,required:""},null,8,["modelValue"]),j(d,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=h=>r.value=h),name:"company",type:"text",label:"Do you have any other comments?",class:"text-field-3 w-input focus:outline-0 border-none",placeholder:"",disabled:!0,required:""},null,8,["modelValue"]),j(f,{loading:e.value},{default:we(()=>[se(" Proceed")]),_:1},8,["loading"])],40,fl)]),_:1})])}}}),gl={class:"max-w-4xl"},ml={class:"border border-gray-500 border-dashed p-12 my-2"},_l=_("span",null," Below are the images that we generated to separate the different cell types. Please review the images to make sure that we correctly classified Ki-67 positive versus negative cells. If they look wrong, you may optionally ",-1),vl=_("span",null,"to report a discrepancy so that we can fix it for the next version.",-1),bl={class:"font-bold text-6xl text-primary text-center my-5"},yl={class:"grid md:grid-cols-2 grid-cols-1 gap-2 justify-center items-center"},wl=["src"],El=_("p",{class:"font-semibold mb-3 text-center"},"Ki67 positive",-1),Al=["src"],Tl=_("p",{class:"font-semibold mb-3 text-center"},"Ki67 Negetive",-1),kl=ue({__name:"ResultView",setup(t){const e=Ye(),n=U(null),i=()=>{n.value&&n.value.show()};return(r,s)=>{var o,c,a,l;return H(),K("div",gl,[j(lo,{ref_key:"feedBackRef",ref:n},{default:we(()=>[j(pl)]),_:1},512),_("div",ml,[_("div",{class:"mb-3 text-center gap-1"},[_l,_("button",{onClick:i,class:"pr-1 font-semibold text-primary underline"}," click here "),vl]),_("div",null,[_("p",bl,Gt(Math.ceil((((c=(o=B(e).counterData)==null?void 0:o.data)==null?void 0:c.count)??0)*100)/100)+"% ",1)]),_("div",yl,[_("div",null,[_("img",{src:B(Xt)+((a=B(e).counterData)==null?void 0:a.data.output1),class:"rounded-lg",alt:"sample"},null,8,wl),El]),_("div",null,[_("img",{src:B(Xt)+((l=B(e).counterData)==null?void 0:l.data.output2),class:"rounded-lg",alt:"sample"},null,8,Al),Tl])])])])}}}),xl={class:"flex items-center w-full p-3 mb-3 gap-2 space-x-2 text-sm font-medium text-center text-gray-500 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 sm:text-base dark:bg-gray-800 dark:border-gray-700 sm:p-4 sm:space-x-4 rtl:space-x-reverse"},Ol=_("svg",{class:"w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 10"},[_("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m7 9 4-4-4-4M1 9l4-4-4-4"})],-1),Cl=ue({__name:"StepBar",props:{currentStep:null},setup(t){const e=Ye(),n=()=>{var i;(i=e.counterData)!=null&&i.data.count&&(e.currentStep=2)};return(i,r)=>{const s=ae("app-icon");return H(),K("div",null,[_("ol",xl,[_("li",{onClick:r[0]||(r[0]=o=>B(e).currentStep=1),class:Ln(["flex items-center gap-2 cursor-default",{"text-blue-600 dark:text-blue-500":(t.currentStep??1)===1}])},[se(" Detection Form "),Ol],2),_("li",{onClick:n,class:Ln(["flex items-center gap-3 cursor-default",{"text-blue-600 dark:text-blue-5000":(t.currentStep??1)===2}])},[se(" Ki-67 count "),j(s,{icon:"fluent-mdl2:completed",width:"15px"})],2)])])}}}),Il={class:"flex flex-col justify-center items-center mt-20"},Dl=_("h1",{class:"text-4xl text-center mb-10",style:{color:"#bc49d3"}}," Ki-67 counter ",-1),Sl=ue({__name:"HomeView",setup(t){const e=Ye();return(n,i)=>(H(),K("div",Il,[Dl,j(Cl,{"current-step":B(e).currentStep},null,8,["current-step"]),B(e).currentStep==1?(H(),Sn(Fr,{key:0})):(H(),Sn(kl,{key:1}))]))}});export{Sl as default};
